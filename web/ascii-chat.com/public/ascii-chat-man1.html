<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>ascii-chat(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ascii-chat(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">ascii-chat(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><b>ascii-chat</b> - Video chat in your terminal</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>ascii-chat</b> is a terminal-based video chat application that
    converts webcam video to ASCII art in real-time. It enables video chat
    directly in your terminal, whether you're using a local console, a remote
    SSH session, or any terminal emulator.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>ascii-chat</b> [<i>options</i>] [<i>session-string</i>]</p>
<p class="Pp"><b>ascii-chat server</b> [<i>bind-address</i>]
    [<i>bind-address</i>] [<i>mode-options</i>]</p>
<p class="Pp"><b>ascii-chat client</b> [<i>address</i>]
  [<i>mode-options</i>]</p>
<p class="Pp"><b>ascii-chat mirror</b> [<i>mode-options</i>]</p>
<p class="Pp"><b>ascii-chat discovery-service</b> [<i>bind-address</i>]
    [<i>bind-address</i>] [<i>mode-options</i>]</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="MODES"><a class="permalink" href="#MODES">MODES</a></h1>
<p class="Pp">The program operates in five modes:</p>
<dl class="Bl-tag">
  <dt id="default"><a class="permalink" href="#default"><b>default</b></a></dt>
  <dd>The default operating mode when running <b>ascii-chat</b> without
      specifying a mode. Starts or joins an ascii-chat Discovery Service session
      with a session string. Attempts direct TCP and WebRTC connections.</dd>
  <dt id="server"><a class="permalink" href="#server"><b>server</b></a></dt>
  <dd>Runs a video chat server that accepts connections from multiple clients,
      mixes their audio and video streams together, and broadcasts the mixed
      streams out to all connected clients.</dd>
  <dt id="client"><a class="permalink" href="#client"><b>client</b></a></dt>
  <dd>Connects to an ascii-chat server via TCP or Websocket, captures video from
      the local webcam, sends it to the server, and displays the video feed from
      all participants that the server sends.</dd>
  <dt id="mirror"><a class="permalink" href="#mirror"><b>mirror</b></a></dt>
  <dd>Displays local webcam or file or URL media as text art without any network
      connection or ascii-chat server. Use mirror mode if you just want to watch
      a YouTube video or other URL or file as ASCII art, with full audio
      support.</dd>
  <dt id="discovery-service"><a class="permalink" href="#discovery-service"><b>discovery-service</b></a></dt>
  <dd>Runs an ACDS (ascii-chat Discovery Service) server for session discovery.
      Allows clients and servers to discover each other using memorable session
      strings instead of IP addresses. See the SECURITY section for notes on the
      official instance and its keys.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="POSITIONAL_ARGUMENTS"><a class="permalink" href="#POSITIONAL_ARGUMENTS">POSITIONAL
  ARGUMENTS</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="CONFIGURATION"><a class="permalink" href="#CONFIGURATION">CONFIGURATION</a></h1>
<p class="Pp">Configuration is stored in TOML format and can be specified via
    <b>--config</b> or placed in the default configuration directory. Use
    <b>--config-create</b> to generate a default configuration file. Values are
    applied in order of precedence: command-line arguments override environment
    variables (ASCII_CHAT_*), which override config file values, which override
    defaults.</p>
<p class="Pp">For complete configuration documentation including file format,
    locations, and option mappings, see the <b>config.toml</b> section in
    <b>ascii-chat</b>(5).</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="PALETTES"><a class="permalink" href="#PALETTES">PALETTES</a></h1>
<p class="Pp">ascii-chat uses character palettes to render ASCII from images and
    chooses a character from it based on luminance. We actually support UTF-8
    character palettes despite the name of the program. The palette characters
    are ordered from darkest to brightest, and ascii-chat uses this when making
    luminance-based decisions. With that in mind, when making custom palettes
    you might want to place the character made of the fewest pixels first, and
    the character that fills the most pixels when rendered last. Or the inverse,
    for fun. All of the built-in palettes follow this except for
    &quot;digital&quot;.</p>
<p class="Pp">Here are the built-in palettes:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="standard"><a class="permalink" href="#standard"><b>standard</b></a></dt>
  <dd>Default palette using ASCII characters only (no UTF-8 required).
    <br/>
    Characters: ...',;:clodxkO0KXNWM</dd>
  <dt id="blocks"><a class="permalink" href="#blocks"><b>blocks</b></a></dt>
  <dd>Unicode block shading characters for smooth gradients (requires UTF-8).
    <br/>
    Characters:
    &#x2591;&#x2591;&#x2592;&#x2592;&#x2593;&#x2593;&#x2588;&#x2588;</dd>
  <dt id="digital"><a class="permalink" href="#digital"><b>digital</b></a></dt>
  <dd>Digital/tech aesthetic with Unicode characters (requires UTF-8).
    <br/>
    Characters: -=&#x2261;&#x2263;&#x25B0;&#x25B1;&#x25FC;</dd>
  <dt id="minimal"><a class="permalink" href="#minimal"><b>minimal</b></a></dt>
  <dd>Minimal palette with basic ASCII characters only.
    <br/>
    Characters: .-+*#</dd>
  <dt id="cool"><a class="permalink" href="#cool"><b>cool</b></a></dt>
  <dd>Vertical bar progression for unique visual effect (requires UTF-8).
    <br/>
    Characters:
    &#x2581;&#x2582;&#x2583;&#x2584;&#x2585;&#x2586;&#x2587;&#x2588;</dd>
  <dt id="custom"><a class="permalink" href="#custom"><b>custom</b></a></dt>
  <dd>User-defined palette via <b>--palette-chars</b> option.</dd>
</dl>
<p class="Pp">Use <b>--utf8</b> to force UTF-8 support when using Unicode
    palettes if terminal support is not automatically detected. Check with
    <b>--show-capabilities</b> to see what was detected.</p>
<p class="Pp"></p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="RENDER_MODES"><a class="permalink" href="#RENDER_MODES">RENDER
  MODES</a></h1>
<p class="Pp">Three rendering modes control how colors are applied:</p>
<dl class="Bl-tag">
  <dt id="foreground"><a class="permalink" href="#foreground"><b>foreground</b></a></dt>
  <dd>The default render mode. ASCII characters are colored and displayed on the
      terminal's default background.</dd>
  <dt id="background"><a class="permalink" href="#background"><b>background</b></a></dt>
  <dd>Terminal background cells are colored and characters are not. Characters
      appear in the default foreground color. The inverse of the foreground
      mode.</dd>
  <dt id="half"><a class="permalink" href="#half"><b>half-block</b></a></dt>
  <dd>Uses Unicode half-block characters (&#x2580;, &#x2584;) to render at 2x
      vertical resolution. Each character cell displays two pixels (top and
      bottom halves). Requires UTF-8 support (<b>--show-capabilities</b> and
      <b>--utf8</b>).
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="URLS"><a class="permalink" href="#URLS">URLS</a></h1>
<p class="Pp">URLs are used in several contexts throughout ascii-chat:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Media"><a class="permalink" href="#Media"><b>Media
    Streaming</b></a></dt>
  <dd>The &quot;ascii-chat&quot;, <b>client</b>, and <b>mirror</b> modes accept
      URLs via the <b>--url</b> option to stream media from the network.</dd>
  <dt id="Key"><a class="permalink" href="#Key"><b>Key Fetching</b></a></dt>
  <dd>The <b>--server-key</b>, <b>--client-keys</b>, and
      <b>--discovery-server-key</b> options accept URLs to fetch public keys
      from remote servers.</dd>
</dl>
</div>
<p class="Pp">URLs can be specified with or without an explicit scheme.</p>
<p class="Pp"><b>Explicit Scheme (Recommended)</b></p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="https://example.com/video.mp4"><a class="permalink" href="#https://example.com/video.mp4"><b>https://example.com/video.mp4</b></a></dt>
  <dd>Use HTTPS on port 443.</dd>
  <dt id="http://192.168.1.100:8080/stream.m3u8"><a class="permalink" href="#http://192.168.1.100:8080/stream.m3u8"><b>http://192.168.1.100:8080/stream.m3u8</b></a></dt>
  <dd>Use HTTP on custom port 8080.</dd>
</dl>
</div>
<p class="Pp"><b>Bare IP Address or Hostname</b></p>
<div class="Bd-indent">When no scheme is provided, ascii-chat automatically
  defaults to <b>HTTP on port 80</b>:
<dl class="Bl-tag">
  <dt id="example.com/video.mp4"><a class="permalink" href="#example.com/video.mp4"><b>example.com/video.mp4</b></a></dt>
  <dd>Resolves to <b>http://example.com:80/video.mp4</b></dd>
  <dt><b>192.168.1.100:8080/stream.m3u8</b></dt>
  <dd>Resolves to <b>http://192.168.1.100:8080/stream.m3u8</b></dd>
  <dt id="localhost:3000/file.mp4"><a class="permalink" href="#localhost:3000/file.mp4"><b>localhost:3000/file.mp4</b></a></dt>
  <dd>Resolves to <b>http://localhost:3000/file.mp4</b></dd>
</dl>
</div>
<p class="Pp"><b>Port Specification</b></p>
<div class="Bd-indent">Port numbers can be included with bare URLs but are
  treated as HTTP ports. To use HTTPS on a non-standard port, explicitly specify
  the scheme:
<dl class="Bl-tag">
  <dt id="example.com:8443/video.mp4"><a class="permalink" href="#example.com:8443/video.mp4"><b>example.com:8443/video.mp4</b></a></dt>
  <dd>Uses HTTP on port 8443 (not HTTPS).</dd>
  <dt id="https://example.com:8443/video.mp4"><a class="permalink" href="#https://example.com:8443/video.mp4"><b>https://example.com:8443/video.mp4</b></a></dt>
  <dd>Uses HTTPS on port 8443 (explicit scheme required).</dd>
</dl>
</div>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYBOARD_CONTROLS"><a class="permalink" href="#KEYBOARD_CONTROLS">KEYBOARD
  CONTROLS</a></h1>
<p class="Pp">Keyboard controls are available when running with local media
    sources (<b>--file</b> or <b>--url</b>). Keyboard controls work in
    <b>mirror</b>, <b>client</b>, and <b>&quot;ascii-chat&quot;</b> modes. They
    are <i>not</i> available when a webcam is used as the media source.</p>
<p class="Pp"><b>Media Playback Controls</b></p>
<dl class="Bl-tag">
  <dt id="LEFT"><a class="permalink" href="#LEFT"><b>LEFT ARROW</b></a></dt>
  <dd>Seek backward 30 seconds in the media file.</dd>
  <dt id="RIGHT"><a class="permalink" href="#RIGHT"><b>RIGHT ARROW</b></a></dt>
  <dd>Seek forward 30 seconds in the media file.</dd>
  <dt id="SPACE"><a class="permalink" href="#SPACE"><b>SPACE</b></a></dt>
  <dd>Toggle play/pause.</dd>
</dl>
<p class="Pp"><b>Audio Controls</b></p>
<dl class="Bl-tag">
  <dt id="UP"><a class="permalink" href="#UP"><b>UP ARROW</b></a></dt>
  <dd>Increase volume by 10%.</dd>
  <dt id="DOWN"><a class="permalink" href="#DOWN"><b>DOWN ARROW</b></a></dt>
  <dd>Decrease volume by 10%.</dd>
  <dt id="M"><a class="permalink" href="#M"><b>M</b></a></dt>
  <dd>Toggle audio mute/unmute.</dd>
</dl>
<p class="Pp"><b>Display Controls</b></p>
<dl class="Bl-tag">
  <dt id="C"><a class="permalink" href="#C"><b>C</b></a></dt>
  <dd>Cycle through color modes: Mono &#x2192; 16-color &#x2192; 256-color
      &#x2192; truecolor &#x2192; mono.</dd>
  <dt id="R"><a class="permalink" href="#R"><b>R</b></a></dt>
  <dd>Cycle through render modes: Foreground &#x2192; background &#x2192;
      half-Block &#x2192; foreground.</dd>
  <dt id="F"><a class="permalink" href="#F"><b>F</b></a></dt>
  <dd>Toggle webcam flip (horizontal mirror). Only works when using a webcam
      source.</dd>
</dl>
<p class="Pp"><b>Keyboard Configuration</b></p>
<div class="Bd-indent">
<p class="Pp">These keyboard mappings are currently hardcoded in the
    application. Future versions will support custom keyboard bindings via a
    configuration file.</p>
<p class="Pp"><b>Developer TODO:</b> Implement remappable keyboard controls via
    a configuration file (e.g., <i>~/.config/ascii-chat/keybindings.toml</i>).
    This will allow users to customize keyboard shortcuts without rebuilding the
    application.</p>
</div>
<p class="Pp"><b>Keyboard Layout Support</b></p>
<p class="Pp">The keyboard input system supports all standard POSIX keyboards
    and terminal emulators. The default keybindings use ASCII characters
  only.</p>
<p class="Pp">The underlying input system fully supports Unicode, including:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="UTF-8"><a class="permalink" href="#UTF-8"><b>UTF-8</b></a></dt>
  <dd>Any character in the UTF-8 character set can be used for keyboard
      shortcuts.</dd>
</dl>
</div>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIMITS"><a class="permalink" href="#LIMITS">LIMITS</a></h1>
<dl class="Bl-tag">
  <dt id="Maximum"><a class="permalink" href="#Maximum"><b>Maximum
    Clients</b></a></dt>
  <dd>Default 10 clients per server (configurable 1-32 via
      <b>--max-clients</b>). Higher values increase server resource
      requirements.</dd>
  <dt id="Video"><a class="permalink" href="#Video"><b>Video Grid
    Layout</b></a></dt>
  <dd>Clients are arranged in an automatically-sized grid (e.g., 2x2, 3x3). The
      grid size adjusts based on the number of connected clients.</dd>
  <dt id="Frame"><a class="permalink" href="#Frame"><b>Frame Rate</b></a></dt>
  <dd>Default 60 FPS. Configurable from 1-144 FPS.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">Exit codes correspond to the <b>asciichat_error_t</b> enum
  values:</p>
<dl class="Bl-tag">
  <dt><b>0</b></dt>
  <dd>Success (ASCIICHAT_OK).</dd>
  <dt><b>1</b></dt>
  <dd>General unspecified error (ERROR_GENERAL).</dd>
  <dt><b>2</b></dt>
  <dd>Invalid command-line arguments or options (ERROR_USAGE).</dd>
  <dt><b>3</b></dt>
  <dd>Memory allocation failed (ERROR_MEMORY).</dd>
  <dt><b>4</b></dt>
  <dd>Configuration file or settings error (ERROR_CONFIG).</dd>
  <dt><b>5-7</b></dt>
  <dd>Initialization errors (crypto, logging, platform).</dd>
  <dt><b>20-25</b></dt>
  <dd>Device errors (webcam, audio, terminal).</dd>
  <dt><b>40-45</b></dt>
  <dd>Network errors (bind, connect, timeout, protocol).</dd>
  <dt><b>60-64</b></dt>
  <dd>Cryptographic errors (key, auth, handshake, verification).</dd>
  <dt><b>80-90</b></dt>
  <dd>Runtime errors (thread, buffer, display, invalid state/param).</dd>
  <dt><b>100-104</b></dt>
  <dd>Signal and compression errors.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY"><a class="permalink" href="#SECURITY">SECURITY</a></h1>
<p class="Pp"><b>ascii-chat</b> implements end-to-end encryption by default
    using libsodium (the same cryptographic library used by Signal, WireGuard,
    and Zcash). All video and audio data is encrypted after the handshake using
    <b>XSalsa20-Poly1305</b> AEAD encryption. Session establishment uses
    <b>X25519</b> elliptic curve Diffie-Hellman for key exchange and
    <b>Ed25519</b> for optional identity verification. Encryption cannot be
    disabled in production builds (use <b>--no-encrypt</b> only for trusted
    local testing).</p>
<p class="Pp">Unlike HTTPS, ascii-chat has no global certificate authority to
    bootstrap trust. This creates a fundamental design choice: you get
    <i>privacy</i> (encryption against passive eavesdropping) by default, but
    identity verification is optional and progressive. By default, each
    connection uses ephemeral keys (generated fresh, never reused) providing
    perfect forward secrecy but offering no MITM protection. For stronger
    security, use password authentication, SSH key verification, or the ACDS
    discovery service to bind identity to sessions. This &quot;progressive
    security ladder&quot; lets users choose their trust model based on threat
    level, from quick private sessions (ephemeral DH) to paranoid mode (password
    + SSH key + whitelist). The ascii-chat developer hosts the primary ACDS
    server at discovery-service.ascii-chat.com whose keys are hosted at
    discovery.ascii-chat.com and trusted automatically by ascii-chat.</p>
<section class="Ss">
<h2 class="Ss" id="Authentication_Methods"><a class="permalink" href="#Authentication_Methods">Authentication
  Methods</a></h2>
<p class="Pp"><b>Default (Ephemeral DH):</b> Protects against passive
    eavesdropping but not MITM attacks. Works with zero configuration. Good for
    low-threat environments or quick sessions.
  <br/>
  <b>Password Authentication:</b> Both sides prove password knowledge (8-256
    characters), bound cryptographically to the DH shared secret. Prevents MITM
    attacks even without pre-arranged keys. Enable with <b>--password SECRET</b>
    on both server and client.
  <br/>
  <b>Key-Based Authentication:</b> Server and client can authenticate using
    Ed25519 SSH keys or GPG keys (see <b>ascii-chat</b>(5) for file format
    details). Keys can be specified as:</p>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Local"><a class="permalink" href="#Local"><b>Local file
    paths:</b></a></dt>
  <dd><b>--key ~/.ssh/id_ed25519</b> or <b>--server-key
    ~/.ssh/server.pub</b></dd>
  <dt id="HTTPS"><a class="permalink" href="#HTTPS"><b>HTTPS URLs:</b></a></dt>
  <dd><b>--server-key https://example.com/key.pub</b> or <b>--client-keys
      https://example.com/keys.gpg</b> (verified by system CA certificates)</dd>
  <dt id="GitHub/GitLab"><a class="permalink" href="#GitHub/GitLab"><b>GitHub/GitLab
    SSH keys:</b></a></dt>
  <dd><b>--server-key github:zfogg</b> or <b>--server-key gitlab:zfogg</b>
      (fetches all Ed25519 SSH keys from the user's public profile)</dd>
  <dt id="GitHub/GitLab~2"><a class="permalink" href="#GitHub/GitLab~2"><b>GitHub/GitLab
    GPG keys:</b></a></dt>
  <dd><b>--server-key github:zfogg.gpg</b> or <b>--client-keys
      gitlab:zfogg.gpg</b></dd>
  <dt id="GPG"><a class="permalink" href="#GPG"><b>GPG key
    fingerprints:</b></a></dt>
  <dd><b>--server-key gpg:897607FA43DC66F6</b> or <b>--key gpg:MYKEYID</b> (uses
      system GPG keyring via gpg-agent)</dd>
</dl>
</div>
<p class="Pp"><b>Client Whitelisting:</b> Server restricts connections to
    pre-approved client keys via <b>--client-keys</b> (accepts local file, HTTPS
    URL, or GitHub/GitLab shorthand). Prevents unauthorized client connections.
    See <b>ascii-chat</b>(5) for authorized_keys file format.
  <br/>
  <b>Defense in Depth:</b> Combine multiple methods (password + SSH key +
    whitelist) for maximum security.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Known_Hosts_and_Trust-On-First-Use_(TOFU)"><a class="permalink" href="#Known_Hosts_and_Trust-On-First-Use_(TOFU)">Known
  Hosts and Trust-On-First-Use (TOFU)</a></h2>
<p class="Pp">When first connecting to a server without <b>--server-key</b>,
    ascii-chat stores the server's public key fingerprint in <i>known_hosts</i>
    using SSH-style TOFU verification. Subsequent connections verify the
    server's key matches the stored fingerprint. This protects against MITM
    attacks on later connections, similar to SSH. If a server's key changes, the
    connection is rejected with a MITM warning showing both old and new
    fingerprints for comparison. Verify the change is legitimate (server
    reinstalled, key rotated) through a separate channel before removing the old
    entry from <i>known_hosts</i>. See <b>ascii-chat</b>(5) for known_hosts file
    format.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ascii-chat_Discovery_Service_(ACDS)"><a class="permalink" href="#ascii-chat_Discovery_Service_(ACDS)">ascii-chat
  Discovery Service (ACDS)</a></h2>
<p class="Pp">The ascii-chat Discovery Service bootstraps trust using the
    existing HTTPS PKI. By default, the public discovery service runs at
    <b>discover-server.ascii-chat.com:27225</b>. ascii-chat automatically
    downloads and verifies the discovery server's public keys over HTTPS from
    <i>discovery.ascii-chat.com/key.pub</i> (SSH Ed25519) and
    <i>discovery.ascii-chat.com/key.gpg</i> (GPG), verified by system CA
    certificates. Servers register with ACDS using a discoverable session string
    (e.g., &quot;purple-mountain-lake&quot;). Clients connect to the discovery
    service to look up the server's public key by session string, then pin that
    key for the subsequent TCP connection to the server. This avoids the
    chicken-and-egg problem of distributing server keys before the connection
    exists. The discovery service only stores connection metadata (session
    strings, public keys, NAT traversal ICE candidates); your video and audio
    flow peer-to-peer with end-to-end encryption. ACDS never sees your
  media.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Session_Rekeying_and_Forward_Secrecy"><a class="permalink" href="#Session_Rekeying_and_Forward_Secrecy">Session
  Rekeying and Forward Secrecy</a></h2>
<p class="Pp">All session keys are rotated automatically after 1 hour or 1
    million packets (whichever comes first) to limit exposure from key
    compromise. The rekey protocol is transparent: both sides generate new
    ephemeral keys, perform a new DH exchange, and atomically switch to new
    session keys without interruption. Old keys are securely wiped using
    sodium_memzero(). Nonces are constructed as session_id || counter (16-byte
    random session ID + 8-byte monotonic packet counter), preventing both
    within-session and cross-session replay attacks. Nonce counter exhaustion
    (astronomically unlikely at 60 FPS for 9+ years) triggers automatic
    rekeying.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="SSH_Agent_and_GPG_Agent_Integration"><a class="permalink" href="#SSH_Agent_and_GPG_Agent_Integration">SSH
  Agent and GPG Agent Integration</a></h2>
<p class="Pp">For Ed25519 SSH keys with passphrases, ascii-chat uses
    <b>ssh-agent</b>(1) to avoid repeated passphrase prompts. Ensure your key is
    added with <b>ssh-add</b>(1) before connecting. For GPG keys, ascii-chat
    uses <b>gpg-agent</b>(1) for passphrase management. Both agents must be
    running and properly configured for seamless authentication. If not running,
    ascii-chat will prompt for passphrases interactively. See
    <b>ssh-agent</b>(1), <b>ssh-add</b>(1), and <b>gpg-agent</b>(1) for
    configuration details.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt id="APPDATA"><a class="permalink" href="#APPDATA"><b>APPDATA</b></a></dt>
  <dd>Windows configuration directory for user-specific application data
      (%APPDATA%\ascii-chat). Primary location for config files on Windows.</dd>
  <dt id="GNUPGHOME"><a class="permalink" href="#GNUPGHOME"><b>GNUPGHOME</b></a></dt>
  <dd>GPG home directory for gpg-agent and key management. Defaults to ~/.gnupg
      if not set. Used when authenticating with GPG keys.</dd>
  <dt id="HOME"><a class="permalink" href="#HOME"><b>HOME</b></a></dt>
  <dd>User home directory on Unix/macOS and Windows. Used to locate config files
      (.ascii-chat/ on Unix, third fallback on Windows), SSH keys (.ssh/), and
      GPG keys. Required for path expansion.</dd>
  <dt id="LLVM_SYMBOLIZER_PATH"><a class="permalink" href="#LLVM_SYMBOLIZER_PATH"><b>LLVM_SYMBOLIZER_PATH</b></a></dt>
  <dd>Path to llvm-symbolizer executable (debug builds only). When set, enables
      line-by-line stack traces in crash reports and panic messages. Improves
      debugging information quality.</dd>
  <dt id="PROGRAMDATA"><a class="permalink" href="#PROGRAMDATA"><b>PROGRAMDATA</b></a></dt>
  <dd>Windows program data directory for shared application data. Used as
      fallback directory for global configuration on Windows.</dd>
  <dt id="USERPROFILE"><a class="permalink" href="#USERPROFILE"><b>USERPROFILE</b></a></dt>
  <dd>Windows user home directory (%USERPROFILE% or %HOMEDRIVE%%HOMEPATH%). Used
      for expanding ~ in paths. When APPDATA is not set,
      %USERPROFILE%\AppData\Roaming\ascii-chat\ is used for config files (first
      fallback in the chain).</dd>
  <dt id="USER"><a class="permalink" href="#USER"><b>USER</b></a></dt>
  <dd>Current user identifier on Unix/macOS. Used for TOFU host verification to
      associate server keys with specific users.</dd>
  <dt id="USERNAME"><a class="permalink" href="#USERNAME"><b>USERNAME</b></a></dt>
  <dd>Current user identifier on Windows. Used for TOFU host verification and
      user identification.</dd>
  <dt><b>_NT_SYMBOL_PATH</b></dt>
  <dd>Windows NT symbol path for debugging symbols (debug builds only). Helps
      locate PDB files for better crash reports. Example:
      srv*C:\\symbols*https://msdl.microsoft.com/download/symbols</dd>
  <dt id="XDG_CONFIG_HOME"><a class="permalink" href="#XDG_CONFIG_HOME"><b>XDG_CONFIG_HOME</b></a></dt>
  <dd>XDG Base Directory specification config directory on Linux (default:
      ~/.config). When set, ascii-chat searches for config files in
      $XDG_CONFIG_HOME/ascii-chat/ instead of ~/.config/ascii-chat/. Follows the
      freedesktop.org XDG specification for application configuration.</dd>
  <dt id="XDG_CONFIG_DIRS"><a class="permalink" href="#XDG_CONFIG_DIRS"><b>XDG_CONFIG_DIRS</b></a></dt>
  <dd>Colon-separated list of additional system configuration directories
      (default: /etc/xdg). ascii-chat searches these directories (in order) for
      config files at $XDG_CONFIG_DIRS/ascii-chat/ after checking
      XDG_CONFIG_HOME. Multiple directories are searched in priority order:
      first match wins for override semantics, all matched files are cascaded
      for config.toml, or all matched files are searched for known_hosts.
      Example: /etc/xdg:/opt/xdg</dd>
  <dt id="XDG_DATA_HOME"><a class="permalink" href="#XDG_DATA_HOME"><b>XDG_DATA_HOME</b></a></dt>
  <dd>XDG Base Directory specification data directory on Linux (default:
      ~/.local/share). Can be used for application data storage following XDG
      conventions.</dd>
  <dt id="SSH_AUTH_SOCK"><a class="permalink" href="#SSH_AUTH_SOCK"><b>SSH_AUTH_SOCK</b></a></dt>
  <dd>Path to the SSH agent socket. Set automatically by ssh-agent. Use this for
      password-free authentication with encrypted SSH keys. Tip: add <b>eval
      $(ssh-agent) &gt; /dev/null</b> to your shell profile.</dd>
  <dt id="ASCII_CHAT_KEY_PASSWORD"><a class="permalink" href="#ASCII_CHAT_KEY_PASSWORD"><b>ASCII_CHAT_KEY_PASSWORD</b></a></dt>
  <dd>Passphrase for encrypted SSH or GPG private keys. Prefer to use ssh-agent
      or gpg-agent.</dd>
  <dt id="ASCII_CHAT_QUESTION_PROMPT_RESPONSE"><a class="permalink" href="#ASCII_CHAT_QUESTION_PROMPT_RESPONSE"><b>ASCII_CHAT_QUESTION_PROMPT_RESPONSE</b></a></dt>
  <dd>Stack-based automated responses for interactive prompts. Format:
      semicolon-separated values like 'y;n;password'. Supports escaping: \; for
      literal semicolon, \\ for backslash. Useful for scripting. Examples:
      'pass\;word;y' sends &quot;pass;word&quot; then &quot;y&quot;. Invalid
      formats (';', ';;', ';y') are rejected and fall back to interactive
      prompting with warning logs.</dd>
  <dt id="COLORTERM"><a class="permalink" href="#COLORTERM"><b>COLORTERM</b></a></dt>
  <dd>Terminal color capability indicator. Set by your terminal emulator to
      indicate truecolor support (e.g., &quot;truecolor&quot; or
      &quot;24bit&quot;). Automatically detected but can be overridden with the
      <b>--color-mode</b> option.</dd>
  <dt id="TERM"><a class="permalink" href="#TERM"><b>TERM</b></a></dt>
  <dd>Terminal type identifier. Used for terminal capability detection and color
      mode selection. Forwarded automatically in SSH sessions; check $TERM in
      remote sessions if colors don't work.</dd>
  <dt id="LOG_LEVEL"><a class="permalink" href="#LOG_LEVEL"><b>LOG_LEVEL</b></a></dt>
  <dd>Override log level via environment variable. Values: dev, debug, info,
      warn, error, fatal. Use the <b>--log-level</b> flag to override.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<ul class="Bl-bullet">
  <li><b>Ed25519 Keys Only</b>: Only Ed25519 SSH keys are supported. RSA and
      ECDSA keys are NOT supported due to libsodium limitations. Generate
      Ed25519 keys with: ssh-keygen -t ed25519</li>
  <li><b>Terminal Detection</b>: Color capabilities are auto-detected from
      $COLORTERM, $TERM, and terminal queries. Use <b>--show-capabilities</b> to
      see what was detected. If detection fails, terminal size falls back to
      110x70 characters.</li>
  <li><b>Webcam Warmup</b>: Many webcams need 1-3 seconds to adjust exposure and
      focus. The <b>--snapshot-delay</b> option allows time for this.</li>
  <li><b>SSH/GPG Agent</b>: For password-free authentication with encrypted SSH
      or GPG keys, use ssh-agent or gpg-agent. Make sure $SSH_AUTH_SOCK is set
      to the agent socket path. Keys stay in the agent and never touch disk in
      plaintext. Tip: put <b>eval $(ssh-agent) &gt; /dev/null</b> in your shell
      profile and use ssh-add -s to add keys to the agent. Check <b>gpg-agent
      --help</b> for help.</li>
  <li><b>GitHub/GitLab Keys</b>: Use <b>github:username</b> or
      <b>gitlab:username</b> to fetch public keys directly. All Ed25519 keys
      from the user's profile are used, so users with multiple SSH keys (e.g.,
      for different machines) can authenticate with any of them. RSA and ECDSA
      keys are ignored.</li>
  <li><b>Remote Sessions</b>: When using ascii-chat over SSH or in tmux/screen,
      truecolor may not work if $COLORTERM isn't forwarded. Try <b>--color-mode
      truecolor</b> to force it, or add set -g default-terminal
      &quot;xterm-256color&quot; to your tmux.conf.</li>
  <li><b>UTF-8 Palettes</b>: The &quot;blocks&quot;, &quot;digital&quot;, and
      &quot;cool&quot; palettes require UTF-8 terminal support. Use
      <b>--utf8</b> to force UTF-8 mode if auto-detection fails.</li>
  <li><b>Half-Block Mode</b>: The <b>--render-mode half-block</b> option doubles
      vertical resolution but requires UTF-8 support. Always use <b>--utf8</b>
      with half-block mode.</li>
  <li><b>Performance</b>: For best performance, use truecolor mode with a modern
      terminal emulator (kitty, alacritty, iTerm2, Windows Terminal). 256-color
      mode requires color distance calculations which are slower.</li>
  <li><b>Aspect Ratio</b>: By default, the video preserves aspect ratio with
      letterboxing. Use <b>--stretch</b> to fill the entire terminal (may
      distort the image).</li>
  <li><b>Piping Output</b>: When piping or redirecting stdout in snapshot mode
      (<b>mirror --snapshot &gt; file</b>), ascii-chat automatically detects
      that stdout is not a terminal and outputs the ASCII art to stdout and all
      logs to stderr, even INFO. If you want only a single frame use
      <b>--snapshot-delay 0</b>. Use <b>--color-mode mono</b> for completely
      plain ASCII with no escape codes at all.</li>
  <li><b>Encrypted Keys</b>: Encrypted private keys (SSH/GPG) work well with
      either ssh-agent/gpg-agent or the $ASCII_CHAT_KEY_PASSWORD environment
      variable. The passphrase prompt only works in interactive terminals.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Report bugs at: https://github.com/zfogg/ascii-chat/issues</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Zachary Fogg &lt;me@zfo.gg&gt;</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>ascii-chat</b>(5), <b>ssh</b>(1), <b>ssh-keygen</b>(1),
    <b>ssh-agent</b>(1), <b>ssh-keyscan</b>(1), <b>gpg</b>(1),
    <b>gpg-agent</b>(1), <b>gpgconf</b>(1), <b>stty</b>(1),
    <b>ffmpeg-formats</b>(1), <b>ffmpeg-codecs</b>(1), <b>yt-dlp</b>(1),
    <b>v4l2-ctl</b>(1)</p>
<p class="Pp"><b>ascii-chat</b> API documentation (section 3):
    <b>ascii-chat-build</b>(3), <b>ascii-chat-config</b>(3),
    <b>ascii-chat-crypto</b>(3), <b>ascii-chat-client</b>(3),
    <b>ascii-chat-server</b>(3), <b>ascii-chat-errno</b>(3),
    <b>ascii-chat-options</b>(3), <b>ascii-chat-network</b>(3),
    <b>ascii-chat-platform</b>(3)</p>
<p class="Pp">Project homepage: https://ascii-chat.com</p>
<p class="Pp">Discovery service: https://discover.ascii-chat.com</p>
<p class="Pp">GitHub repository: https://github.com/zfogg/ascii-chat</p>
<p class="Pp">Releases: https://github.com/zfogg/ascii-chat/releases</p>
<p class="Pp">API documentation: https://zfogg.github.io/ascii-chat/</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp"><b>ascii-chat</b> is licensed under the MIT License.</p>
<p class="Pp">Copyright (c) 2013-2026 Zachary Fogg</p>
<p class="Pp">Permission is hereby granted, free of charge, to any person
    obtaining a copy of this software and associated documentation files (the
    &quot;Software&quot;), to deal in the Software without restriction,
    including without limitation the rights to use, copy, modify, merge,
    publish, distribute, sublicense, and/or sell copies of the Software, and to
    permit persons to whom the Software is furnished to do so, subject to the
    following conditions:</p>
<p class="Pp">The above copyright notice and this permission notice shall be
    included in all copies or substantial portions of the Software.</p>
<p class="Pp">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF
    ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
    EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
    DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
    OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
    USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2026-02-15</td>
    <td class="foot-os">ascii-chat 0.8.1</td>
  </tr>
</table>
</body>
</html>
