// Auto-generated version header - DO NOT EDIT
// Generated by CMake from version.h.in

#pragma once

#define ASCII_CHAT_VERSION_MAJOR @PROJECT_VERSION_MAJOR@
#define ASCII_CHAT_VERSION_MINOR @PROJECT_VERSION_MINOR@
#define ASCII_CHAT_VERSION_PATCH @PROJECT_VERSION_PATCH@
#define ASCII_CHAT_VERSION_STRING "@PROJECT_VERSION@"
#define ASCII_CHAT_GIT_VERSION "@GIT_VERSION_STRING@"
#define ASCII_CHAT_GIT_COMMIT_HASH "@GIT_COMMIT_HASH@"
#define ASCII_CHAT_GIT_IS_DIRTY @GIT_IS_DIRTY@
#define ASCII_CHAT_BUILD_TYPE "@VERSION_BUILD_TYPE@"
#define ASCII_CHAT_OS "@VERSION_OS@"
#define ASCII_CHAT_BUILD_DATE "@BUILD_DATE@"
#define ASCII_CHAT_REPO_HASH "@REPO_HASH@"

// Full version string like "v0.2.0-42+gf811525" (nvim-style)
// On clean release tags, this will be just "v0.3.0" without trailing dash
#define ASCII_CHAT_VERSION_FULL "v" ASCII_CHAT_VERSION_STRING "@GIT_VERSION_SUFFIX@" ASCII_CHAT_GIT_VERSION

// Description tagline
#define ASCII_CHAT_DESCRIPTION_EMOJI_L "ðŸ’»ðŸ“¸"
#define ASCII_CHAT_DESCRIPTION_EMOJI_R "ðŸ”¡ðŸ’¬"
#define ASCII_CHAT_DESCRIPTION_TEXT "Video chat in your terminal"
#define ASCII_CHAT_DESCRIPTION ASCII_CHAT_DESCRIPTION_EMOJI_L " " ASCII_CHAT_DESCRIPTION_TEXT " " ASCII_CHAT_DESCRIPTION_EMOJI_R

// Full build info string used everywhere: "ascii-chat v0.2.0-... built on OS (yyyy-mm-dd, BuildType)"
#define ASCII_CHAT_BUILD_INFO_STRING "ascii-chat " ASCII_CHAT_VERSION_FULL " built on " ASCII_CHAT_OS " (" ASCII_CHAT_BUILD_DATE ", " ASCII_CHAT_BUILD_TYPE ")"

#define ASCII_CHAT_DOT_COMMENT_STRING ASCII_CHAT_BUILD_INFO_STRING "\n" ASCII_CHAT_DESCRIPTION "\n" "https://github.com/zfogg/ascii-chat"

#define ASCII_CHAT_DOT_ASCII_CHAT_STRING ASCII_CHAT_DOT_COMMENT_STRING "\n" "coded with ðŸ–¤ by Zachary Fogg <me@zfo.gg>"

// Runtime version accessors
const char *ascii_chat_get_version(void);
const char *ascii_chat_get_comment(void);
const char *ascii_chat_get_build_info(void);

// Version parsing and comparison
#include <stdbool.h>

/**
 * @brief Parsed semantic version structure
 */
typedef struct {
  int major; ///< Major version (0 to INT_MAX)
  int minor; ///< Minor version (0 to INT_MAX)
  int patch; ///< Patch version (0 to INT_MAX)
  bool valid; ///< True if parsing succeeded
} semantic_version_t;

/**
 * @brief Parse a version string into semantic version components
 *
 * Handles both "v1.2.3" and "1.2.3" formats. Allows missing components
 * (e.g., "1.2" = 1.2.0, "1" = 1.0.0).
 *
 * @param version_string Version string to parse (e.g., "v0.8.1", "1.2.3")
 * @return Parsed semantic version (check .valid field for success)
 */
semantic_version_t version_parse(const char *version_string);

/**
 * @brief Compare two semantic versions
 *
 * @param a First version
 * @param b Second version
 * @return -1 if a < b, 0 if a == b, 1 if a > b
 */
int version_compare(semantic_version_t a, semantic_version_t b);
