.TH ascii-chat 1 "January 2026" "ascii-chat" "User Commands"
.SH NAME
.B ascii-chat
\- Video chat in your terminal

.\" AUTO-START: SYNOPSIS
.\" This section is auto-generated. Manual edits will be lost.
.SH SYNOPSIS
.B ascii-chat
[\fIoptions\fR]

.\" AUTO-END: SYNOPSIS
.\" AUTO-START: POSITIONAL ARGUMENTS
.\" This section is auto-generated. Manual edits will be lost.
.SH POSITIONAL ARGUMENTS
.\" placeholder
.\" AUTO-END: POSITIONAL ARGUMENTS
.SH DESCRIPTION
.B ascii-chat
is a terminal-based video chat application that converts webcam video to ASCII
art in real-time. It enables video chat directly in your terminal, whether you're
using a local console, a remote SSH session, or any terminal emulator.
.PP
The program operates in five modes:
.TP
.B ascii-chat
The binary's default operating mode without additional commands. Starts or joins an
ascii-chat Discovery Service session with a session string. This mode makes secure
internet connections and attempts direct tcp and webrtc connections.
.TP
.B server
Runs a video chat server that accepts connections from multiple clients,
mixes their audio and video streams together, and broadcasts the mixed streams
out to all connected clients. Clients see a grid of ascii video cells displaying
the users of the call.
.TP
.B client
Connects to an ascii-chat server, captures video from the local webcam, sends it
to the server, and displays the combined video feed grid from all participants that
the server sends back.
.TP
.B mirror
Displays local webcam or file or URL media as text art without any network
connection or ascii-chat server. Perfect for testing webcam, palette settings,
and terminal rendering. Useful for debugging and scripting. Ideal
for playing around with the webcam. Use mirror mode if you just want to watch
a YouTube video or other URL or file as text art, with full audio
support.
.TP
.B discovery-service
Runs an ACDS (ascii-chat Discovery Service) server for session management.
Allows clients and servers to discover each other using memorable session strings
instead of IP addresses. Handles NAT traversal via WebRTC when direct TCP connections
aren't possible. The ascii-chat developers host the primary ACDS server
(discovery-server.ascii-chat.com) whose keys are trusted automatically by
ascii-chat.
.\" MANUAL-END: DESCRIPTION

.\" MANUAL-START: PALETTES
.\" AUTO-START: USAGE
.\" This section is auto-generated. Manual edits will be lost.
.SH USAGE
.\" placeholder
.\" AUTO-END: USAGE
.\" AUTO-START: EXAMPLES
.\" This section is auto-generated. Manual edits will be lost.
.SH EXAMPLES
.\" placeholder
.\" AUTO-END: EXAMPLES
.\" AUTO-START: OPTIONS
.\" This section is auto-generated. Manual edits will be lost.
.SH OPTIONS
.\" placeholder
.\" AUTO-END: OPTIONS

.SH PALETTES
Built-in ASCII character palettes for different visual styles.
Characters are ordered from darkest (leftmost) to brightest (rightmost).
.TP
.B standard
Default palette using ASCII characters only (no UTF-8 required).
.br
Characters: \fC   ...',;:clodxkO0KXNWM\fR
.TP
.B blocks
Unicode block shading characters for smooth gradients (requires UTF-8).
.br
Characters: \fC   \[u2591]\[u2591]\[u2592]\[u2592]\[u2593]\[u2593]\[u2588]\[u2588]\fR
.TP
.B digital
Digital/tech aesthetic with Unicode characters (requires UTF-8).
.br
Characters: \fC   -=\[u2261]\[u2263]\[u25B0]\[u25B1]\[u25FC]\fR
.TP
.B minimal
Minimal palette with basic ASCII characters only.
.br
Characters: \fC   .-+*#\fR
.TP
.B cool
Vertical bar progression for unique visual effect (requires UTF-8).
.br
Characters: \fC   \[u2581]\[u2582]\[u2583]\[u2584]\[u2585]\[u2586]\[u2587]\[u2588]\fR
.TP
.B custom
User-defined palette via \fB\-\-palette\-chars\fR option.
.PP
Use \fB\-\-utf8\fR to force UTF-8 support when using Unicode palettes.
.\" MANUAL-END: PALETTES

.\" MANUAL-START: RENDER MODES
.SH RENDER MODES
Three rendering modes control how colors are applied:
.TP
.B foreground
Default mode. ASCII characters are colored but displayed on the terminal's
default background. Best compatibility across terminals.
.TP
.B background
Terminal background cells are colored. Characters appear in the default
foreground color. Creates a blocky, pixel-art appearance.
.TP
.B half\-block
Uses Unicode half-block characters (\[u2580], \[u2584]) to achieve 2x vertical
resolution. Each character cell displays two pixels (top and bottom halves).
Requires UTF-8 support (\fB\-\-utf8\fR).
.\" MANUAL-END: RENDER MODES

.\" MANUAL-START: CONFIGURATION
.SH CONFIGURATION
Configuration can be stored in a TOML file at the default location
(see FILES section) or specified via \fB\-\-config\fR.
.TP
.B Configuration Priority
.RS
Command-line arguments override config file values.
Config file values override default values.
.RE
.PP
.TP
.B Configuration Keys and Sections
.RS
Configuration keys are command-line option names with dashes converted to underscores.
The TOML section name is determined by the flag category shown in \fBasciichat \-\-help\fR.
For example, \fB\-\-color\-mode\fR (under "TERMINAL" in --help) becomes
\fCcolor_mode\fR under \fB[terminal]\fR in config.
Similarly, \fB\-\-max\-clients\fR (under "SERVER" section) becomes \fCmax_clients\fR
under \fB[server]\fR, and \fB\-\-server\-key\fR (under "SECURITY" section) becomes
\fCserver_key\fR under \fB[security]\fR.
To find the correct section and key name, locate the flag in \fBasciichat \-\-help\fR,
note its section heading, convert that to lowercase for the TOML section, and replace
dashes with underscores in the flag name for the key.
.RE
.PP
.TP
.B Conflicting Options
.RS
Some configuration options conflict with each other and will cause the
config file to fail loading if set simultaneously. Common conflicts include:
.IP \(bu 2
\fB\-\-file\fR and \fB\-\-url\fR cannot both be set (URL takes priority)
.IP \(bu 2
\fB\-\-loop\fR cannot be used with \fB\-\-url\fR (network streams cannot be looped)
.IP \(bu 2
\fB\-\-seek\fR requires either \fB\-\-file\fR or \fB\-\-url\fR
.PP
If your configuration file fails to load, check the error message for
conflicting option details and remove one of the conflicting options.
.RE
.PP
.TP
.B Security Warning
While passwords can be stored in the config file, this is discouraged.
Use \fB\-\-password\fR interactively or environment variables instead.
Secure your config file permissions if it contains sensitive data.
.\" MANUAL-END: CONFIGURATION
.\" MANUAL-START: LIMITS
.SH LIMITS
.TP
.B Maximum Clients
Default 10 clients per server (configurable 1-32 via \fB\-\-max\-clients\fR).
Higher values increase server resource requirements.
.TP
.B Video Grid Layout
Clients are arranged in an automatically-sized grid (e.g., 2x2, 3x3).
The grid size adjusts based on the number of connected clients.
.TP
.B Frame Rate
Default 60 FPS. Configurable from 1-144 FPS.
.\" MANUAL-END: LIMITS
.\" MERGE-START: ENVIRONMENT
.\" MANUAL-START: ENVIRONMENT
.SH ENVIRONMENT
.TP
.B APPDATA
Windows configuration directory for user-specific application data (%APPDATA%\\ascii-chat\). Used as fallback for config directory if not using XDG paths.
.TP
.B GNUPGHOME
GPG home directory for gpg-agent and key management. Defaults to ~/.gnupg if not set. Used when authenticating with GPG keys.
.TP
.B HOME
User home directory on Unix/macOS. Used to locate config files (.ascii-chat/), SSH keys (.ssh/), and GPG keys. Required for path expansion.
.TP
.B LLVM_SYMBOLIZER_PATH
Path to llvm-symbolizer executable (debug builds only). When set, enables line-by-line stack traces in crash reports and panic messages. Improves debugging information quality.
.TP
.B PROGRAMDATA
Windows program data directory for shared application data. Used as fallback directory for global configuration on Windows.
.TP
.B USERPROFILE
Windows user home directory (%USERPROFILE% or %HOMEDRIVE%%HOMEPATH%). Used for expanding ~ in paths and locating config files on Windows.
.TP
.B USER
Current user identifier on Unix/macOS. Used for TOFU host verification to associate server keys with specific users.
.TP
.B USERNAME
Current user identifier on Windows. Used for TOFU host verification and user identification.
.TP
.B _NT_SYMBOL_PATH
Windows NT symbol path for debugging symbols (debug builds only). Helps locate PDB files for better crash reports. Format: srv*C:\\\\symbols*https://msdl.microsoft.com/download/symbols
.TP
.B XDG_CONFIG_HOME
XDG Base Directory specification config directory on Linux (overrides ~/.config/ascii-chat/). Set this to use a custom config directory location per XDG specification.
.TP
.B XDG_DATA_HOME
XDG Base Directory specification data directory on Linux (overrides ~/.local/share/). Can be used for application data storage following XDG conventions.
.\" MANUAL-END: ENVIRONMENT
.\" MERGE-END: ENVIRONMENT
.SH FILES
.SS Configuration and Keys
.TP
.I ~/.ssh/id_ed25519
Default SSH Ed25519 private key used for encryption if \fB\-\-key ssh\fR is specified.
.TP
.I ~/.ssh/id_ed25519.pub
Public key corresponding to the default private key.
.TP
.I config.toml
Configuration file in the configuration directory.
.TP
.I known_hosts
Known hosts file for TOFU (Trust On First Use) server verification.
.TP
.I $XDG_CONFIG_HOME/ascii-chat/ \fRor\fI ~/.ascii-chat/
Configuration directory on Linux/macOS.
Uses $XDG_CONFIG_HOME/ascii-chat/ if XDG_CONFIG_HOME is set, otherwise ~/.ascii-chat/.
Contains config.toml and known_hosts.
.TP
.I %APPDATA%\eascii-chat\e \fRor\fI ~\e.ascii-chat\e
Configuration directory on Windows.
Uses %APPDATA%\eascii-chat\e if APPDATA is set, otherwise ~\e.ascii-chat\e.
Contains config.toml and known_hosts.
.TP
.I /etc/ascii-chat/config.toml
System-wide configuration file on Linux.
Used for server deployments or shared configurations.
.TP
.I /usr/local/etc/ascii-chat/config.toml
Alternative system-wide configuration file (BSD-style path) on ARM macOS machines and Linux.
The main system-wide configuration file path for Intel macOS machines.
.TP
.I /opt/homebrew/etc/ascii-chat/config.toml
Alternative system-wide configuration file on ARM macOS machines.
Used as the OS's shared configuration for ascii-chat.
.SS Media Files
The \fB\-\-file\fR option and \fB\-\-url\fR option support streaming media files as ASCII art.
Supported media formats and codecs are powered by FFmpeg:
.PP
.B Video Demuxers:
mov, matroska (mkv), avi, gif, image2 (image sequences), mp3, wav, flac, ogg
.PP
.B Video Codecs:
h264, hevc (h265), vp8, vp9, av1, mpeg4, png, gif, mjpeg
.PP
.B Audio Codecs:
mp3, aac, flac, vorbis, opus, pcm_s16le
.PP
Common file formats:
MP4, MOV, AVI, MKV, WebM, GIF, PNG, JPEG, MP3, WAV, FLAC, OGG
.PP
For detailed information on supported formats and codecs, see
.BR ffmpeg-formats (1)
and
.BR ffmpeg-codecs (1).
.\" MANUAL-END: FILES
.\" MANUAL-START: EXIT STATUS
.SH EXIT STATUS
Exit codes correspond to the \fBasciichat_error_t\fR enum values:
.TP
.B 0
Success (ASCIICHAT_OK).
.TP
.B 1
General unspecified error (ERROR_GENERAL).
.TP
.B 2
Invalid command-line arguments or options (ERROR_USAGE).
.TP
.B 3
Memory allocation failed (ERROR_MEMORY).
.TP
.B 4
Configuration file or settings error (ERROR_CONFIG).
.TP
.B 5\-7
Initialization errors (crypto, logging, platform).
.TP
.B 20\-25
Device errors (webcam, audio, terminal).
.TP
.B 40\-45
Network errors (bind, connect, timeout, protocol).
.TP
.B 60\-64
Cryptographic errors (key, auth, handshake, verification).
.TP
.B 80\-90
Runtime errors (thread, buffer, display, invalid state/param).
.TP
.B 100\-104
Signal and compression errors.
.\" MANUAL-END: EXIT STATUS
.\" MANUAL-START: SECURITY
.SH SECURITY
.B ascii-chat
implements end-to-end encryption by default using libsodium (the same cryptographic library used by Signal, WireGuard, and Zcash). All video and audio data is encrypted after the handshake using \fBXSalsa20-Poly1305\fR AEAD encryption. Session establishment uses \fBX25519\fR elliptic curve Diffie-Hellman for key exchange and \fBEd25519\fR for optional identity verification. Encryption cannot be disabled in production builds (use \fB\-\-no\-encrypt\fR only for trusted local testing).
.PP
Unlike HTTPS, ascii-chat has no global certificate authority to bootstrap trust. This creates a fundamental design choice: you get \fIprivacy\fR (encryption against passive eavesdropping) by default, but identity verification is optional and progressive. By default, each connection uses ephemeral keys (generated fresh, never reused) providing perfect forward secrecy but offering no MITM protection. For stronger security, use password authentication, SSH key verification, or the ACDS discovery service to bind identity to sessions. This "progressive security ladder" lets users choose their trust model based on threat level, from quick private sessions (ephemeral DH) to paranoid mode (password + SSH key + whitelist).
.PP
.SS "Authentication Methods"
\fBDefault (Ephemeral DH):\fR Protects against passive eavesdropping but not MITM attacks. Works with zero configuration. Good for low-threat environments or quick sessions.
.br
.B
\fBPassword Authentication:\fR Both sides prove password knowledge (8-256 characters), bound cryptographically to the DH shared secret. Prevents MITM attacks even without pre-arranged keys. Enable with \fB\-\-password SECRET\fR on both server and client.
.br
\fBKey-Based Authentication:\fR Server and client can authenticate using Ed25519 SSH keys or GPG keys. Keys can be specified as:
.RS
.TP
.B Local file paths:
\fB\-\-key ~/.ssh/id_ed25519\fR or \fB\-\-server\-key ~/.ssh/server.pub\fR
.TP
.B HTTPS URLs:
\fB\-\-server\-key https://example.com/key.pub\fR or \fB\-\-client\-keys https://example.com/keys.gpg\fR (verified by system CA certificates)
.TP
.B GitHub/GitLab SSH keys:
\fB\-\-server\-key github:zfogg\fR or \fB\-\-server\-key gitlab:zfogg\fR (fetches all Ed25519 SSH keys from the user's public profile)
.TP
.B GitHub/GitLab GPG keys:
\fB\-\-server\-key github:zfogg.gpg\fR or \fB\-\-client\-keys gitlab:zfogg.gpg\fR
.TP
.B GPG key fingerprints:
\fB\-\-server\-key gpg:897607FA43DC66F6\fR or \fB\-\-key gpg:MYKEYID\fR (uses system GPG keyring via gpg-agent)
.RE
.PP
\fBClient Whitelisting:\fR Server restricts connections to pre-approved client keys via \fB\-\-client\-keys\fR (accepts local file, HTTPS URL, or GitHub/GitLab shorthand). Prevents unauthorized client connections.
.br
\fBDefense in Depth:\fR Combine multiple methods (password + SSH key + whitelist) for maximum security.
.PP
.SS "Known Hosts and Trust-On-First-Use (TOFU)"
When first connecting to a server without \fB\-\-server\-key\fR, ascii-chat stores the server's public key fingerprint in \fIknown_hosts\fR using SSH-style TOFU verification. Subsequent connections verify the server's key matches the stored fingerprint. This protects against MITM attacks on later connections, similar to SSH. If a server's key changes, the connection is rejected with a MITM warning showing both old and new fingerprints for comparison. Verify the change is legitimate (server reinstalled, key rotated) through a separate channel before removing the old entry from \fIknown_hosts\fR.
.PP
.SS "ascii-chat Discovery Service (ACDS)"
The ascii-chat Discovery Service bootstraps trust using the existing HTTPS PKI. By default, the public discovery service runs at \fBdiscover-server.ascii-chat.com:27225\fR. ascii-chat automatically downloads and verifies the discovery server's public keys over HTTPS from \fIdiscovery.ascii-chat.com/key.pub\fR (SSH Ed25519) and \fIdiscovery.ascii-chat.com/key.gpg\fR (GPG), verified by system CA certificates. Servers register with ACDS using a discoverable session string (e.g., "purple-mountain-lake"). Clients connect to the discovery service to look up the server's public key by session string, then pin that key for the subsequent TCP connection to the server. This avoids the chicken-and-egg problem of distributing server keys before the connection exists. The discovery service only stores connection metadata (session strings, public keys, NAT traversal ICE candidates); your video and audio flow peer-to-peer with end-to-end encryption. ACDS never sees your media.
.PP
.SS "Session Rekeying and Forward Secrecy"
All session keys are rotated automatically after 1 hour or 1 million packets (whichever comes first) to limit exposure from key compromise. The rekey protocol is transparent: both sides generate new ephemeral keys, perform a new DH exchange, and atomically switch to new session keys without interruption. Old keys are securely wiped using \fCsodium_memzero()\fR. Nonces are constructed as \fCsession_id || counter\fR (16-byte random session ID + 8-byte monotonic packet counter), preventing both within-session and cross-session replay attacks. Nonce counter exhaustion (astronomically unlikely at 60 FPS for 9+ years) triggers automatic rekeying.
.\" MANUAL-END: SECURITY
.\" MANUAL-START: NOTES
.SH NOTES
.IP \(bu 2
\fBEd25519 Keys Only\fR: Only Ed25519 SSH keys are supported. RSA and ECDSA keys
are NOT supported due to libsodium limitations. Generate Ed25519 keys with:
\fCssh-keygen -t ed25519\fR
.IP \(bu 2
\fBTerminal Detection\fR: Color capabilities are auto-detected from $COLORTERM,
$TERM, and terminal queries. Use \fB\-\-show\-capabilities\fR to see what was detected.
If detection fails, terminal size falls back to 110x70 characters.
.IP \(bu 2
\fBWebcam Warmup\fR: Many webcams need 1-3 seconds to adjust exposure and focus.
The \fB\-\-snapshot\-delay\fR option (default 3.0s) allows time for this.
.IP \(bu 2
\fBSSH/GPG Agent\fR: For password-free authentication with encrypted SSH or GPG 
keys, use ssh-agent or gpg-agent. Make sure $SSH_AUTH_SOCK is set to the agent socket 
path. Keys stay in the agent and never touch disk in plaintext. Tip: put 
\fBeval $(ssh-agent) > /dev/null\fR in your shell profile and use \fCssh-add 
-s\fR to add keys to the agent. Check \fBgpg-agent \-\-help\fR for help.
.IP \(bu 2
\fBGitHub/GitLab Keys\fR: Use \fBgithub:username\fR or \fBgitlab:username\fR
to fetch public keys directly. All Ed25519 keys from the user's profile are
used, so users with multiple SSH keys (e.g., for different machines) can
authenticate with any of them. RSA and ECDSA keys are ignored.
.IP \(bu 2
\fBRemote Sessions\fR: When using ascii-chat over SSH or in tmux/screen,
truecolor may not work if $COLORTERM isn't forwarded. Try
\fB\-\-color\-mode truecolor\fR to force it, or add \fCset -g default-terminal "xterm-256color"\fR
to your tmux.conf.
.IP \(bu 2
\fBUTF-8 Palettes\fR: The "blocks", "digital", and "cool" palettes require UTF-8
terminal support. Use \fB\-\-utf8\fR to force UTF-8 mode if auto-detection fails.
.IP \(bu 2
\fBHalf-Block Mode\fR: The \fB\-\-render\-mode half\-block\fR option doubles vertical
resolution but requires UTF-8 support. Always use \fB\-\-utf8\fR with half-block mode.
.IP \(bu 2
\fBPerformance\fR: For best performance, use truecolor mode with a modern
terminal emulator (kitty, alacritty, iTerm2, Windows Terminal).
256-color mode requires color distance calculations which are slower.
.IP \(bu 2
\fBAspect Ratio\fR: By default, the video preserves aspect ratio with letterboxing.
Use \fB\-\-stretch\fR to fill the entire terminal (may distort the image).
.IP \(bu 2
\fBPiping Output\fR: When piping or redirecting stdout in snapshot mode
(\fBmirror \-\-snapshot > file\fR), ascii-chat automatically detects
that stdout is not a terminal and outputs clean ASCII without cursor movement
or RLE compression codes. Only the final frame is output. Use
\fB\-\-color\-mode mono\fR for completely plain ASCII with no escape codes at all.
.IP \(bu 2
\fBEncrypted Keys\fR: Encrypted private keys (SSH/GPG) work well with either ssh-agent/gpg-agent or
the $ASCII_CHAT_KEY_PASSWORD environment variable. The passphrase prompt
only works in interactive terminals.
.\" MANUAL-END: NOTES
.\" MANUAL-START: BUGS
.SH BUGS
Report bugs at: https://github.com/zfogg/ascii-chat/issues
.\" MANUAL-END: BUGS
.\" MANUAL-START: AUTHOR
.SH AUTHOR
Zachary Fogg <me@zfo.gg>
.\" MANUAL-END: AUTHOR
.\" MANUAL-START: SEE ALSO
.SH SEE ALSO
.BR ssh (1),
.BR ssh-keygen (1),
.BR ssh-agent (1),
.BR ssh-keyscan (1),
.BR stty (1),
.BR ffmpeg-formats (1),
.BR ffmpeg-codecs (1),
.BR yt-dlp (1),
.BR v4l2-ctl (1)
.PP
.B ascii-chat
API documentation (section 3):
.BR ascii-chat-build (3),
.BR ascii-chat-config (3),
.BR ascii-chat-crypto (3),
.BR ascii-chat-client (3),
.BR ascii-chat-server (3),
.BR ascii-chat-errno (3),
.BR ascii-chat-options (3),
.BR ascii-chat-network (3),
.BR ascii-chat-platform (3)
.PP
Project homepage: https://ascii-chat.com
.PP
Discovery service: https://discover.ascii-chat.com
.PP
GitHub repository: https://github.com/zfogg/ascii-chat
.PP
Releases: https://github.com/zfogg/ascii-chat/releases
.PP
API documentation: https://zfogg.github.io/ascii-chat/
.\" MANUAL-END: SEE ALSO
.\" MANUAL-START: LICENSE
.SH LICENSE
.B ascii-chat
is licensed under the MIT License.
.PP
Copyright (c) 2013-2026 Zachary Fogg
.PP
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
.PP
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
.PP
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
.\" MANUAL-END: LICENSE
