.TH ascii-chat 1 "January 2026" "ascii-chat" "User Commands"
.SH NAME
.B ascii-chat
\- Video chat in your terminal

.\" AUTO-START: SYNOPSIS
.\" This section is auto-generated. Manual edits will be lost.
.SH SYNOPSIS
.B ascii-chat
[\fIoptions\fR]

.\" AUTO-END: SYNOPSIS
.\" MANUAL-START: DESCRIPTION
.SH DESCRIPTION
.B ascii-chat
is a terminal-based video chat application that converts webcam video to ASCII
art in real-time. It enables video chat directly in your terminal, whether you're
using a local console, a remote SSH session, or any terminal emulator.
.PP
The program operates in four modes:
.TP
.B server
Runs a video chat server that accepts connections from multiple clients,
mixes their audio and video streams together, and broadcasts the mixed streams
out to all connected clients. Clients see a grid of ascii video cells displaying
the users of the call.
.TP
.B client
Connects to an ascii-chat server, captures video from the local webcam, sends it
to the server, and displays the combined video feed grid from all participants that
the server sends back.
.TP
.B mirror
Displays your local webcam as ASCII art without any network connection.
Perfect for testing webcam, palette settings, and terminal rendering.
.TP
.B discovery-server
Runs an ACDS (ascii-chat Discovery Service) server for session management.
Allows clients and servers to discover each other using memorable session strings
instead of IP addresses. Handles NAT traversal via WebRTC when direct TCP connections
aren't possible.
.\" MANUAL-END: DESCRIPTION
.\" AUTO-START: USAGE
.\" AUTO-END: USAGE
.\" AUTO-START: EXAMPLES
.\" AUTO-END: EXAMPLES
.\" AUTO-START: OPTIONS
.\" AUTO-END: OPTIONS
.\" MANUAL-START: PALETTES
.SH PALETTES
Built-in ASCII character palettes for different visual styles.
Characters are ordered from darkest (leftmost) to brightest (rightmost).
.TP
.B standard
Default palette using ASCII characters only (no UTF-8 required).
.br
Characters: \fC   ...',;:clodxkO0KXNWM\fR
.TP
.B blocks
Unicode block shading characters for smooth gradients (requires UTF-8).
.TP
.B digital
Digital/tech aesthetic with Unicode characters (requires UTF-8).
.TP
.B minimal
Minimal palette with basic ASCII characters only.
.br
Characters: \fC   .-+*#\fR
.TP
.B cool
Vertical bar progression for unique visual effect (requires UTF-8).
.TP
.B custom
User-defined palette via \fB\-\-palette\-chars\fR option.
.PP
Use \fB\-\-utf8\fR to force UTF-8 support when using Unicode palettes.
.\" MANUAL-END: PALETTES
.\" MANUAL-START: RENDER MODES
.SH RENDER MODES
Three rendering modes control how colors are applied:
.TP
.B foreground
Default mode. ASCII characters are colored but displayed on the terminal's
default background. Best compatibility across terminals.
.TP
.B background
Terminal background cells are colored. Characters appear in the default
foreground color. Creates a blocky, pixel-art appearance.
.TP
.B half\-block
Uses Unicode half-block characters to achieve 2x vertical resolution.
Each character cell displays two pixels (top and bottom halves).
Requires UTF-8 support (\fB\-\-utf8\fR).
.\" MANUAL-END: RENDER MODES
.\" MANUAL-START: CONFIGURATION
.SH CONFIGURATION
Configuration can be stored in a TOML file at the default location
(see FILES section) or specified via \fB\-\-config\fR.
.PP
.B Configuration Priority:
.RS
Command-line arguments override config file values.
Config file values override default values.
.RE
.PP
.B Configuration Sections:
.RS
.IP \(bu 2
\fB[network]\fR: port
.IP \(bu 2
\fB[server]\fR: bind_ipv4, bind_ipv6
.IP \(bu 2
\fB[client]\fR: address, width, height, webcam_index, webcam_flip, color_mode, render_mode, fps, stretch
.IP \(bu 2
\fB[audio]\fR: enabled, microphone_index, speakers_index, microphone_sensitivity, speakers_volume
.IP \(bu 2
\fB[palette]\fR: type, chars
.IP \(bu 2
\fB[crypto]\fR: encrypt_enabled, key, password, keyfile, server_key (client), client_keys (server)
.IP \(bu 2
\fB[logging]\fR: log_file
.RE
.PP
.B Security Warning:
While passwords can be stored in the config file, this is discouraged.
Use \fB\-\-password\fR interactively or environment variables instead.
Secure your config file permissions if it contains sensitive data.
.\" MANUAL-END: CONFIGURATION
.\" MANUAL-START: LIMITS
.SH LIMITS
.TP
.B Maximum Clients
Default 10 clients per server (configurable 1-32 via \fB\-\-max\-clients\fR).
Higher values increase server resource requirements.
.TP
.B Video Grid Layout
Clients are arranged in an automatically-sized grid (e.g., 2x2, 3x3).
The grid size adjusts based on the number of connected clients.
.TP
.B Frame Rate
Default 60 FPS. Configurable from 1-144 FPS.
.\" MANUAL-END: LIMITS
.\" MERGE-START: ENVIRONMENT
.\" MERGE-END: ENVIRONMENT
.\" MANUAL-START: FILES
.SH FILES
.SS Configuration and Keys
.TP
.I ~/.ssh/id_ed25519
Default SSH Ed25519 private key used for encryption if \fB\-\-key\fR is not specified.
.TP
.I ~/.ssh/id_ed25519.pub
Public key corresponding to the default private key.
.TP
.I config.toml
Configuration file in the configuration directory.
.TP
.I known_hosts
Known hosts file for TOFU (Trust On First Use) server verification.
.TP
.I $XDG_CONFIG_HOME/ascii-chat/ \fRor\fI ~/.ascii-chat/
Configuration directory on Linux/macOS.
Uses $XDG_CONFIG_HOME/ascii-chat/ if XDG_CONFIG_HOME is set, otherwise ~/.ascii-chat/.
Contains config.toml and known_hosts.
.TP
.I %APPDATA%\eascii-chat\e \fRor\fI ~\e.ascii-chat\e
Configuration directory on Windows.
Uses %APPDATA%\eascii-chat\e if APPDATA is set, otherwise ~\e.ascii-chat\e.
Contains config.toml and known_hosts.
.TP
.I /etc/ascii-chat/config.toml
System-wide configuration file on Linux/macOS.
Used for server deployments or shared configurations.
.TP
.I /usr/local/etc/ascii-chat/config.toml
Alternative system-wide configuration file (BSD-style path).
Used for locally-installed configurations.
.SS Media Files
The \fB\-\-file\fR option and \fB\-\-url\fR option support streaming media files as ASCII art.
Supported media formats and codecs are powered by FFmpeg:
.PP
.B Video Demuxers:
mov, matroska (mkv), avi, gif, image2 (image sequences), mp3, wav, flac, ogg
.PP
.B Video Codecs:
h264, hevc (h265), vp8, vp9, av1, mpeg4, png, gif, mjpeg
.PP
.B Audio Codecs:
mp3, aac, flac, vorbis, opus, pcm_s16le
.PP
Common file formats:
MP4, MOV, AVI, MKV, WebM, GIF, PNG, JPEG, MP3, WAV, FLAC, OGG
.PP
For detailed information on supported formats and codecs, see
.BR ffmpeg-formats (1)
and
.BR ffmpeg-codecs (1).
.\" MANUAL-END: FILES
.\" MANUAL-START: EXIT STATUS
.SH EXIT STATUS
Exit codes correspond to the \fBasciichat_error_t\fR enum values:
.TP
.B 0
Success (ASCIICHAT_OK).
.TP
.B 1
General unspecified error (ERROR_GENERAL).
.TP
.B 2
Invalid command-line arguments or options (ERROR_USAGE).
.TP
.B 3
Memory allocation failed (ERROR_MEMORY).
.TP
.B 4
Configuration file or settings error (ERROR_CONFIG).
.TP
.B 5\-7
Initialization errors (crypto, logging, platform).
.TP
.B 20\-25
Device errors (webcam, audio, terminal).
.TP
.B 40\-45
Network errors (bind, connect, timeout, protocol).
.TP
.B 60\-64
Cryptographic errors (key, auth, handshake, verification).
.TP
.B 80\-90
Runtime errors (thread, buffer, display, invalid state/param).
.TP
.B 100\-104
Signal and compression errors.
.\" MANUAL-END: EXIT STATUS
.\" MANUAL-START: SECURITY
.SH SECURITY
.B ascii-chat
supports end-to-end encryption using modern cryptographic algorithms:
.IP \(bu 2
X25519 elliptic curve Diffie-Hellman key exchange
.IP \(bu 2
XSalsa20-Poly1305 authenticated encryption (AEAD)
.IP \(bu 2
Ed25519 digital signatures for SSH key authentication
.PP
Encryption is enabled by default. Use \fB\-\-no\-encrypt\fR to disable it.
Use \fB\-\-server\-key\fR on the client to verify server identity and prevent
man-in-the-middle attacks. Use \fB\-\-client\-keys\fR on the server to restrict
access to specific clients.
.SS "Trust On First Use (TOFU)"
When connecting to a server without \fB\-\-server\-key\fR, ascii-chat uses
TOFU verification similar to SSH. On first connection, the server's identity
key fingerprint is displayed and stored in \fIknown_hosts\fR. Subsequent
connections verify the server key matches the stored fingerprint.
.PP
If a server's key changes (possible MITM attack), the connection is rejected
with a warning. To connect anyway, remove the server entry from
\fIknown_hosts\fR and reconnect.
.\" MANUAL-END: SECURITY
.\" MANUAL-START: NOTES
.SH NOTES
.IP \(bu 2
\fBEd25519 Keys Only\fR: Only Ed25519 SSH keys are supported. RSA and ECDSA keys
are NOT supported due to libsodium limitations. Generate Ed25519 keys with:
\fCssh-keygen -t ed25519\fR
.IP \(bu 2
\fBTerminal Detection\fR: Color capabilities are auto-detected from $COLORTERM,
$TERM, and terminal queries. Use \fB\-\-show\-capabilities\fR to see what was detected.
If detection fails, terminal size falls back to 110x70 characters.
.IP \(bu 2
\fBWebcam Warmup\fR: Many webcams need 1-3 seconds to adjust exposure and focus.
The \fB\-\-snapshot\-delay\fR option (default 3.0s) allows time for this.
.IP \(bu 2
\fBSSH Agent\fR: For password-free authentication with encrypted SSH keys,
use ssh-agent. Set $SSH_AUTH_SOCK to the agent socket path.
.IP \(bu 2
\fBGitHub/GitLab Keys\fR: Use \fBgithub:username\fR or \fBgitlab:username\fR
to fetch public keys directly. All Ed25519 keys from the user's profile are
used, so users with multiple SSH keys can authenticate with any of them.
.IP \(bu 2
\fBRemote Sessions\fR: When using ascii-chat over SSH or in tmux/screen,
truecolor may not work if $COLORTERM isn't forwarded.
.IP \(bu 2
\fBUTF-8 Palettes\fR: The "blocks", "digital", and "cool" palettes require UTF-8
terminal support. Use \fB\-\-utf8\fR to force UTF-8 mode if auto-detection fails.
.IP \(bu 2
\fBHalf-Block Mode\fR: The \fB\-\-render\-mode half\-block\fR option doubles vertical
resolution but requires UTF-8 support. Always use \fB\-\-utf8\fR with half-block mode.
.IP \(bu 2
\fBAspect Ratio\fR: By default, the video preserves aspect ratio with letterboxing.
Use \fB\-\-stretch\fR to fill the entire terminal (may distort the image).
.IP \(bu 2
\fBPiping Output\fR: When piping or redirecting stdout in snapshot mode,
ascii-chat automatically detects that stdout is not a terminal and outputs
clean ASCII without cursor movement codes.
.\" MANUAL-END: NOTES
.\" MANUAL-START: BUGS
.SH BUGS
Report bugs at: https://github.com/zfogg/ascii-chat/issues
.\" MANUAL-END: BUGS
.\" MANUAL-START: AUTHOR
.SH AUTHOR
Zachary Fogg <me@zfo.gg>
.\" MANUAL-END: AUTHOR
.\" MANUAL-START: SEE ALSO
.SH SEE ALSO
.BR ssh (1),
.BR ssh-keygen (1),
.BR ssh-agent (1),
.BR gpg (1),
.BR gpgconf (1),
.BR yt-dlp (1),
.BR ffmpeg (1),
.BR ffmpeg-codecs (1),
.BR ffmpeg-formats (1)
.PP
.B ascii-chat
homepage: https://ascii-chat.com
.PP
GitHub repository: https://github.com/zfogg/ascii-chat
.PP
API documentation: https://zfogg.github.io/ascii-chat/
.\" MANUAL-END: SEE ALSO
